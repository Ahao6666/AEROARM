<?xml version="1.0"?>
<sdf version='1.7'>
  <model name='gripper1'>
    <link name='base_link'>
      <inertial>
        <pose>0.001654 -0.029913 -0.001386 0 -0 0</pose>
        <mass>0.01</mass>
        <inertia>
          <ixx>4.11249e-05</ixx>
          <ixy>8.0148e-07</ixy>
          <ixz>2.68911e-08</ixz>
          <iyy>0.000111475</iyy>
          <iyz>-6.74462e-07</iyz>
          <izz>0.000142498</izz>
        </inertia>
      </inertial>
      <collision name='base_link_collision'>
        <pose>0 0 0 0 -0 0</pose>
        <geometry>
          <mesh>
            <scale>1 1 1</scale>
            <uri>model://gripper1/meshes/base_link.STL</uri>
          </mesh>
        </geometry>
      </collision>
      <visual name='base_link_visual'>
        <pose>0 0 0 0 -0 0</pose>
        <geometry>
          <mesh>
            <scale>1 1 1</scale>
            <uri>model://gripper1/meshes/base_link.STL</uri>
          </mesh>
        </geometry>
      </visual>
    </link>
    <joint name='left_joint' type='prismatic'>
      <pose relative_to='base_link'>-0.051103 -0.052 -0.0065 0 -0 0</pose>
      <parent>base_link</parent>
      <child>left_link</child>
      <axis>
        <xyz>-1 0 0</xyz>
        <limit>
          <lower>-0.015</lower>
          <upper>0.01</upper>
          <effort>50</effort>
          <velocity>0.1</velocity>
        </limit>
        <dynamics>
          <spring_reference>0</spring_reference>
          <spring_stiffness>0</spring_stiffness>
      	  <damping>0</damping>
      	  <friction>0.1</friction>
        </dynamics>
      </axis>
    </joint>
    <link name='left_link'>
      <pose relative_to='left_joint'>0 0 0 0 -0 0</pose>
      <inertial>
        <pose>0.026892 -0.01407 0.008606 0 -0 0</pose>
        <mass>0.01</mass>
        <inertia>
          <ixx>9.6439e-05</ixx>
          <ixy>3.46376e-06</ixy>
          <ixz>3.80734e-07</ixz>
          <iyy>4.79336e-05</iyy>
          <iyz>-8.70306e-06</iyz>
          <izz>7.99202e-05</izz>
        </inertia>
      </inertial>
      <collision name='left_link_collision'>
        <pose>0 0 0 0 -0 0</pose>
        <geometry>
          <mesh>
            <scale>1 1 1</scale>
            <uri>model://gripper1/meshes/left_link.STL</uri>
          </mesh>
        </geometry>
          <surface>
            <friction>
              <ode>
                <mu>30</mu>
                <mu2>30</mu2>
              </ode>
            </friction>
          </surface>
      </collision>
      <visual name='left_link_visual'>
        <pose>0 0 0 0 -0 0</pose>
        <geometry>
          <mesh>
            <scale>1 1 1</scale>
            <uri>model://gripper1/meshes/left_link.STL</uri>
          </mesh>
        </geometry>
      </visual>
    </link>
    <joint name='right_joint' type='prismatic'>
      <pose relative_to='base_link'>0.052897 -0.052 0.0075 3.14159 -0 3.14159</pose>
      <parent>base_link</parent>
      <child>right_link</child>
      <axis>
        <xyz>1 0 0</xyz>
        <limit>
          <lower>-0.01</lower>
          <upper>0.015</upper>
          <effort>50</effort>
          <velocity>0.1</velocity>
        </limit>
        <dynamics>
          <spring_reference>0</spring_reference>
          <spring_stiffness>0</spring_stiffness>
      	  <damping>0</damping>
      	  <friction>0.1</friction>
        </dynamics>
      </axis>
    </joint>
    <link name='right_link'>
      <pose relative_to='right_joint'>0 0 0 0 -0 0</pose>
      <inertial>
        <pose>0.025334 -0.016463 0.005554 0 -0 0</pose>
        <mass>0.01</mass>
        <inertia>
          <ixx>6.82429e-05</ixx>
          <ixy>8.57233e-06</ixy>
          <ixz>-7.94682e-07</ixz>
          <iyy>3.63588e-05</iyy>
          <iyz>5.33025e-06</iyz>
          <izz>5.21112e-05</izz>
        </inertia>
      </inertial>
      <collision name='right_link_collision'>
        <pose>0 0 0 0 -0 0</pose>
        <geometry>
          <mesh>
            <scale>1 1 1</scale>
            <uri>model://gripper1/meshes/right_link.STL</uri>
          </mesh>
        </geometry>
      </collision>
      <visual name='right_link_visual'>
        <pose>0 0 0 0 -0 0</pose>
        <geometry>
          <mesh>
            <scale>1 1 1</scale>
            <uri>model://gripper1/meshes/right_link.STL</uri>
          </mesh>
        </geometry>
          <surface>
            <friction>
              <ode>
                <mu>30</mu>
                <mu2>30</mu2>
              </ode>
            </friction>
          </surface>
      </visual>
    </link>
    <!-- 在gazebo仿真模型文件中添加： -->
      <plugin name="p3d_base_controller" filename="libgazebo_ros_p3d.so">
        <alwaysOn>true</alwaysOn>
        <updateRate>50.0</updateRate>
        <bodyName>right_link</bodyName>
        <topicName>gripper_right_link_pose_gt</topicName>
        <gaussianNoise>0.0</gaussianNoise>
        <frameName>world</frameName>
        <xyzOffset>0 0 0</xyzOffset>
        <rpyOffset>0 0 0</rpyOffset>
      </plugin>
      <plugin name="gazebo_grasp_fix" filename="libgazebo_grasp_fix.so">
        <arm>
          <arm_name>ur5_gripper</arm_name>
          <palm_link>base_link</palm_link>
          <gripper_link>left_link</gripper_link>
          <gripper_link>right_link</gripper_link>
        </arm>
        <forces_angle_tolerance>150</forces_angle_tolerance>
        <update_rate>130</update_rate>
        <grip_count_threshold>2</grip_count_threshold>
        <max_grip_count>8</max_grip_count>
        <release_tolerance>0.01</release_tolerance>
        <disable_collisions_on_attach>true</disable_collisions_on_attach>
        <contact_topic>__default_topic__</contact_topic>
     </plugin>

  <plugin name="gripper_control1_1" filename="libgripper_plugin1_1.so"/>
  <plugin name="gripper_control1_2" filename="libgripper_plugin1_2.so"/>
  </model>
</sdf>
